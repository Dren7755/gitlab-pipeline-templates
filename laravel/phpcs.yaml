variables:
  PHPCS_LINT_DIRS: "app/code src" # Separate multiple dirs with spaces
  PHPCS_RULESET: ""
  ALLOW_FAILURE: false

'Codestyle':
  stage: static
  image: composer
  allow_failure: $ALLOW_FAILURE
  before_script: []
  script:
    - composer create-project slevomat/coding-standard /tmp/cs
    - mkdir -p reports/phpcs
    - php /tmp/cs/vendor/bin/phpcs --standard=${PHP_CS_STANDARD} --report=full --report=reports/phpcs/ --no-cache $LINT_DIRS
  artifacts:
    paths:
      - reports
    expire_in: 30m
